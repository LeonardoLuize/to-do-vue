<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./styles/global.css">
    <link rel="icon" href="/logo.svg">
    <title>To.Do | Vue</title>
</head>

<div id="app">
    <header-component></header-component>
    <todo-component :newItem="newItem" :list-value="listValue" :add-item="addItem" :remove-item="removeItem"></todo-component>
</div>

<script type="module">
    import { createApp } from 'https://unpkg.com/vue@3/dist/vue.esm-browser.js'
    import HeaderComponent from './components/Header.js'
    import TodoComponent from './components/Todo.js'

    let id = 0;

    createApp({
        data() {
            return {
                newItem: "",
                listValue: [
                    {id: id++, text: "Item 1"},
                ]
            }
        },
        methods: {
            addItem(){
                this.listValue.push({id: id++, text: this.newItem})
                this.newItem = ""
            },
            removeItem(id){
                this.listValue = this.listValue.filter(item => item.id !== id)
            }
        },
        components: {
            HeaderComponent,
            TodoComponent       
        },
    }).mount('#app')
</script>